{% extends 'base.html' %}
{% import 'publication_list_macro.html' as publist with context %}

{% block main %}

{% if os.path.exists('files/photo_'+member.id+'.jpg') %}
<img src="photo_{{member.id}}.jpg" class="FloatingImageRightBorder"  style="max-height: 200px; max-width: 200px; border: 1px solid black;"/>
{% endif %}
<h2>{{ member.name }}</h2>

<p>
    <table class="ContactDetails">
    <tr><td class="ContactDetailsLeft">
    {% if hasattr(member, 'email') %}
        <div>
        <img src="{{ generate_email(member.name, member.email) }}" style="height:1em; vertical-align: text-top;"/>
        </div>
    {% endif %}
    {% if hasattr(member, 'telephone') %}
        <div>
        {{ member.telephone }}
        </div>
    {% endif %}
    {% if hasattr(member, 'social_media') %}
        <div>
        {{ member.social_media }}
        </div>
    {% endif %}
    <!--</td><td width="50%" style="vertical-align: top;">-->
    </td><td>
    {% if hasattr(member, 'address') %}
        <!--<font color="#aaaaaa">-->
        <div style="color: #aaaaaa;">
        {% for line in member.address.split('\n') if line.strip() %}
        {{ line }}<br/>
        {% endfor %}
        </div>
        <!--</font>-->
    {% endif %}
    </td></tr></table>
</p>

<div>
{{ member.long }}
</div>

{% if member.show_publications and member_publications(member) %}
<h2>Publications</h2>

{% if member.id!="dan_goodman" %}
<p>Note that only publications as part of the Neural Reckoning group are included.</p>
{% endif %}

{{ publist.grouped_publications(member) }}
{% endif %}

{% endblock %}
